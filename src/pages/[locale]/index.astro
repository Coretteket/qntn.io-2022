---
import Layout from '@/layouts/BaseLayout.astro';
import Project from '@/components/Project.astro';

import { getPlayCount, getFollowers } from '@/scripts/api';

import { loadTranslations } from '@/scripts/translate';
import Icon from 'astro-icon';
export { getStaticPaths } from '@/scripts/translate';
const { t } = await loadTranslations(Astro);

const playCount = await getPlayCount();
const followers = await getFollowers();
---

<Layout>
  <header class="my-20 md:my-24">
    <h1 class="font-bold text-gray-800 dark:text-gray-100 !leading-[1] fluid-text-4xl font-hero">{t.home.title}</h1>
    <p class="text-gray-700 fluid-text-lg !leading-[1.3] dark:text-gray-200 my-6">
      {t.home.description}
    </p>
    <a href="/about" class="font-semibold text-sky-600 transition-colors dark:text-sky-300 hover:text-sky-700 dark:hover:text-sky-200 fluid-text-lg !leading-[1.3] inline-block">
      {t.home.moreAbout}...
    </a>
  </header>
  <section id="projects">
    <div class="flex justify-between xs:text-lg">
      <h2 class="font-bold text-gray-700 dark:text-gray-200">{t.home.projects}</h2>
      <a href="/projects" class="font-semibold transition-colors text-sky-600 dark:text-sky-300 hover:text-sky-700 dark:hover:text-sky-200">View more</a>
    </div>
    <div class="grid gap-4 my-6 md:gap-6 md:grid-cols-2">
      <Project name="bdh" stat={playCount} />
      <Project name="nidk" stat={followers} />
    </div>
  </section>
</Layout>
