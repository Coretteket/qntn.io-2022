---
import { state } from '../scripts/translate';
import '../styles/index.css';

export type Props = { title?: string };
const props = Astro.props as Props;

const defaultTitle = `Quinten Coret`;
const title = props.title ? `${props.title} â€“ ${defaultTitle}` : defaultTitle;

const otherLocale = state.locale === 'en' ? 'nl' : 'en';
const otherLocaleURL = `${Astro.url}?lang=${otherLocale}`;
---

<head>
  <meta charset="utf-8" />
  <link rel="icon" type="image/png" href="/favicon.png" />
  <link rel="alternate" hreflang={otherLocale} href={otherLocaleURL} />
  <link
    rel="preload"
    href="/fraunces-bold.woff2"
    as="font"
    type="font/woff2"
    crossorigin="anonymous"
  />
  <meta name="viewport" content="width=device-width" />
  <meta name="generator" content={Astro.generator} />
  <title>{title}</title>
  <script is:inline>
    let theme = localStorage.getItem('theme');
    theme = theme ?? (window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light');
    document.documentElement.setAttribute('data-theme', theme);
  </script>
  <script>
    import { quicklink } from '../scripts/prefetch';
    if (import.meta.env.PROD) quicklink();
  </script>
</head>
